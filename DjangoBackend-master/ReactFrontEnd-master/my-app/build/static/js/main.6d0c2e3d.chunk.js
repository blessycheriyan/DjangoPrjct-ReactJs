(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(22),a=n.n(i),s=(n(31),n(26)),o=n(4),l=(n.p,n(32),n(23)),u=n(24),j=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"UpdateArticle",value:function(e,t,n){return fetch("http://127.0.0.1:8000/api/articles/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(n)},body:JSON.stringify(t)}).then((function(e){return e.json()}))}},{key:"InsertArticle",value:function(e,t){return fetch("http://127.0.0.1:8000/api/articles/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t)},body:JSON.stringify(e)}).then((function(e){return e.json()}))}},{key:"DeleteArticle",value:function(e,t){return fetch("http://127.0.0.1:8000/api/articles/".concat(e,"/"),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(t)}})}},{key:"LoginUser",value:function(e){return fetch("http://127.0.0.1:8000/auth/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}},{key:"RegisterUser",value:function(e){return fetch("http://127.0.0.1:8000/api/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}))}}]),e}(),b=n(41),d=n(1);var h=function(e){var t=Object(b.a)(["mytoken"]),n=Object(o.a)(t,1)[0];return Object(d.jsx)("div",{children:e.articles&&e.articles.map((function(t){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:t.title}),Object(d.jsx)("p",{children:t.description}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-1",children:Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return function(t){e.editBtn(t)}(t)},children:"Update"})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("button",{onClick:function(){return function(t){j.DeleteArticle(t.id,n.mytoken).then((function(){return e.deleteBtn(t)})).catch((function(e){return console.log(e)}))}(t)},className:"btn btn-danger",children:"Delete"})})]}),Object(d.jsx)("hr",{className:"hrclass"})]},t.id)}))})};var O=function(e){var t=Object(c.useState)(""),n=Object(o.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(""),s=Object(o.a)(a,2),l=s[0],u=s[1],h=Object(b.a)(["mytoken"]),O=Object(o.a)(h,1)[0];return Object(c.useEffect)((function(){i(e.article.title),u(e.article.description)}),[e.article]),Object(d.jsx)("div",{children:e.article?Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"title",placeholder:"Please Enter The Title",value:r,onChange:function(e){return i(e.target.value)}}),Object(d.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(d.jsx)("textarea",{className:"form-control",id:"description",rows:"5",value:l,onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("br",{}),e.article.id?Object(d.jsx)("button",{onClick:function(){j.UpdateArticle(e.article.id,{title:r,description:l},O.mytoken).then((function(t){return e.updatedInformation(t)}))},className:"btn btn-success",children:"Update Article"}):Object(d.jsx)("button",{onClick:function(){j.InsertArticle({title:r,description:l},O.mytoken).then((function(t){return e.insertedInformation(t)}))},className:"btn btn-success",children:"Insert Article"})]}):null})},f=n(2);var m=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(null),a=Object(o.a)(i,2),l=a[0],u=a[1],j=Object(b.a)(["mytoken"]),m=Object(o.a)(j,3),p=m[0],x=(m[1],m[2]),v=Object(f.e)();return Object(c.useEffect)((function(){fetch("http://127.0.0.1:8000/api/articles/",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(p.mytoken)}}).then((function(e){return e.json()})).then((function(e){return r(e)})).catch((function(e){return console.log(e)}))}),[]),Object(c.useEffect)((function(){p.mytoken||v.push("/")}),[p]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("div",{className:"row",children:[Object(d.jsxs)("div",{className:"col",children:[Object(d.jsx)("h2",{children:"Django And ReactJS Course"}),Object(d.jsx)("br",{})]}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("button",{onClick:function(){u({title:"",description:""})},className:"btn btn-primary",children:"Insert Article"})}),Object(d.jsx)("div",{className:"col",children:Object(d.jsx)("button",{onClick:function(){x(["mytoken"])},className:"btn btn-primary",children:"Logout"})})]}),Object(d.jsx)(h,{articles:n,editBtn:function(e){u(e)},deleteBtn:function(e){var t=n.filter((function(t){return t.id!==e.id}));r(t)}}),l?Object(d.jsx)(O,{article:l,updatedInformation:function(e){var t=n.map((function(t){return t.id===e.id?e:t}));r(t)},insertedInformation:function(e){var t=[].concat(Object(s.a)(n),[e]);r(t)}}):null]})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},x=(n(39),n(13));var v=function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),a=Object(o.a)(i,2),s=a[0],l=a[1],u=Object(b.a)(["mytoken"]),h=Object(o.a)(u,2),O=h[0],m=h[1],p=Object(c.useState)(!0),x=Object(o.a)(p,2),v=x[0],y=x[1],N=Object(f.e)();Object(c.useEffect)((function(){O.mytoken&&N.push("/articles")}),[O]);var g=function(){j.LoginUser({username:n,password:s}).then((function(e){return m("mytoken",e.token)})).catch((function(e){return console.log(e)}))};return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),v?Object(d.jsx)("h1",{children:"Please Login "}):Object(d.jsx)("h1",{children:"Please Register "}),Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",className:"form-label",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Please Enter Username",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password",placeholder:"Please Enter Password",value:s,onChange:function(e){return l(e.target.value)}})]}),v?Object(d.jsx)("button",{onClick:g,className:"btn btn-primary",children:"Login"}):Object(d.jsx)("button",{onClick:function(){j.RegisterUser({username:n,password:s}).then((function(){return g()})).catch((function(e){return console.log(e)}))},className:"btn btn-primary",children:"Register"}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("br",{}),v?Object(d.jsxs)("h5",{children:["If You Don't Have Account, Please ",Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return y(!1)},children:"Register"}),"Here"]}):Object(d.jsxs)("h5",{children:["If You Have Account, Please ",Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(){return y(!0)},children:"Login"}),"Here"]})]})]})},y=n(42);function N(){return Object(d.jsx)(y.a,{children:Object(d.jsxs)(x.a,{children:[Object(d.jsx)(f.a,{exact:!0,path:"/",component:v}),Object(d.jsx)(f.a,{exact:!0,path:"/articles",component:m})]})})}a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(N,{})}),document.getElementById("root")),p()}},[[40,1,2]]]);
//# sourceMappingURL=main.6d0c2e3d.chunk.js.map